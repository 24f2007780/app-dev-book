{
  "version": 3,
  "sources": ["../../../../node_modules/vitepress-mermaid-preview/dist/pieDiagram-NIOCPIFQ-DyDaDu7Z.js"],
  "sourcesContent": ["import { p as V } from \"./chunk-353BL4L5-t05ly1Yi.js\";\nimport { a8 as S, a3 as z, aG as U, _ as u, g as j, s as q, a as H, b as Z, q as J, p as K, l as F, c as Q, D as X, H as Y, N as tt, e as et, y as at, F as rt } from \"./component-D1GmXNq6.js\";\nimport { p as nt } from \"./mermaid-parser.core-N8bHQHCN.js\";\nimport { d as P } from \"./arc-aavUJmbb.js\";\nimport { o as it } from \"./ordinal-DfAQgscy.js\";\nfunction st(t, a) {\n  return a < t ? -1 : a > t ? 1 : a >= t ? 0 : NaN;\n}\nfunction ot(t) {\n  return t;\n}\nfunction lt() {\n  var t = ot, a = st, h = null, s = S(0), p = S(z), x = S(0);\n  function i(e) {\n    var r, l = (e = U(e)).length, d, A, m = 0, c = new Array(l), n = new Array(l), v = +s.apply(this, arguments), w = Math.min(z, Math.max(-z, p.apply(this, arguments) - v)), f, T = Math.min(Math.abs(w) / l, x.apply(this, arguments)), $ = T * (w < 0 ? -1 : 1), g;\n    for (r = 0; r < l; ++r)\n      (g = n[c[r] = r] = +t(e[r], r, e)) > 0 && (m += g);\n    for (a != null ? c.sort(function(y, D) {\n      return a(n[y], n[D]);\n    }) : h != null && c.sort(function(y, D) {\n      return h(e[y], e[D]);\n    }), r = 0, A = m ? (w - l * $) / m : 0; r < l; ++r, v = f)\n      d = c[r], g = n[d], f = v + (g > 0 ? g * A : 0) + $, n[d] = {\n        data: e[d],\n        index: r,\n        value: g,\n        startAngle: v,\n        endAngle: f,\n        padAngle: T\n      };\n    return n;\n  }\n  return i.value = function(e) {\n    return arguments.length ? (t = typeof e == \"function\" ? e : S(+e), i) : t;\n  }, i.sortValues = function(e) {\n    return arguments.length ? (a = e, h = null, i) : a;\n  }, i.sort = function(e) {\n    return arguments.length ? (h = e, a = null, i) : h;\n  }, i.startAngle = function(e) {\n    return arguments.length ? (s = typeof e == \"function\" ? e : S(+e), i) : s;\n  }, i.endAngle = function(e) {\n    return arguments.length ? (p = typeof e == \"function\" ? e : S(+e), i) : p;\n  }, i.padAngle = function(e) {\n    return arguments.length ? (x = typeof e == \"function\" ? e : S(+e), i) : x;\n  }, i;\n}\nvar ct = rt.pie, G = {\n  sections: /* @__PURE__ */ new Map(),\n  showData: !1\n}, b = G.sections, N = G.showData, ut = structuredClone(ct), pt = /* @__PURE__ */ u(() => structuredClone(ut), \"getConfig\"), dt = /* @__PURE__ */ u(() => {\n  b = /* @__PURE__ */ new Map(), N = G.showData, at();\n}, \"clear\"), gt = /* @__PURE__ */ u(({ label: t, value: a }) => {\n  b.has(t) || (b.set(t, a), F.debug(`added new section: ${t}, with value: ${a}`));\n}, \"addSection\"), ft = /* @__PURE__ */ u(() => b, \"getSections\"), ht = /* @__PURE__ */ u((t) => {\n  N = t;\n}, \"setShowData\"), mt = /* @__PURE__ */ u(() => N, \"getShowData\"), R = {\n  getConfig: pt,\n  clear: dt,\n  setDiagramTitle: K,\n  getDiagramTitle: J,\n  setAccTitle: Z,\n  getAccTitle: H,\n  setAccDescription: q,\n  getAccDescription: j,\n  addSection: gt,\n  getSections: ft,\n  setShowData: ht,\n  getShowData: mt\n}, vt = /* @__PURE__ */ u((t, a) => {\n  V(t, a), a.setShowData(t.showData), t.sections.map(a.addSection);\n}, \"populateDb\"), yt = {\n  parse: /* @__PURE__ */ u(async (t) => {\n    const a = await nt(\"pie\", t);\n    F.debug(a), vt(a, R);\n  }, \"parse\")\n}, St = /* @__PURE__ */ u((t) => `\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${t.pieOuterStrokeColor};\n    stroke-width: ${t.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`, \"getStyles\"), xt = St, At = /* @__PURE__ */ u((t) => {\n  const a = [...t.entries()].map((s) => ({\n    label: s[0],\n    value: s[1]\n  })).sort((s, p) => p.value - s.value);\n  return lt().value(\n    (s) => s.value\n  )(a);\n}, \"createPieArcs\"), wt = /* @__PURE__ */ u((t, a, h, s) => {\n  F.debug(`rendering pie chart\n` + t);\n  const p = s.db, x = Q(), i = X(p.getConfig(), x.pie), e = 40, r = 18, l = 4, d = 450, A = d, m = Y(a), c = m.append(\"g\");\n  c.attr(\"transform\", \"translate(\" + A / 2 + \",\" + d / 2 + \")\");\n  const { themeVariables: n } = x;\n  let [v] = tt(n.pieOuterStrokeWidth);\n  v ??= 2;\n  const w = i.textPosition, f = Math.min(A, d) / 2 - e, T = P().innerRadius(0).outerRadius(f), $ = P().innerRadius(f * w).outerRadius(f * w);\n  c.append(\"circle\").attr(\"cx\", 0).attr(\"cy\", 0).attr(\"r\", f + v / 2).attr(\"class\", \"pieOuterCircle\");\n  const g = p.getSections(), y = At(g), D = [\n    n.pie1,\n    n.pie2,\n    n.pie3,\n    n.pie4,\n    n.pie5,\n    n.pie6,\n    n.pie7,\n    n.pie8,\n    n.pie9,\n    n.pie10,\n    n.pie11,\n    n.pie12\n  ], C = it(D);\n  c.selectAll(\"mySlices\").data(y).enter().append(\"path\").attr(\"d\", T).attr(\"fill\", (o) => C(o.data.label)).attr(\"class\", \"pieCircle\");\n  let W = 0;\n  g.forEach((o) => {\n    W += o;\n  }), c.selectAll(\"mySlices\").data(y).enter().append(\"text\").text((o) => (o.data.value / W * 100).toFixed(0) + \"%\").attr(\"transform\", (o) => \"translate(\" + $.centroid(o) + \")\").style(\"text-anchor\", \"middle\").attr(\"class\", \"slice\"), c.append(\"text\").text(p.getDiagramTitle()).attr(\"x\", 0).attr(\"y\", -400 / 2).attr(\"class\", \"pieTitleText\");\n  const M = c.selectAll(\".legend\").data(C.domain()).enter().append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", (o, k) => {\n    const E = r + l, L = E * C.domain().length / 2, _ = 12 * r, B = k * E - L;\n    return \"translate(\" + _ + \",\" + B + \")\";\n  });\n  M.append(\"rect\").attr(\"width\", r).attr(\"height\", r).style(\"fill\", C).style(\"stroke\", C), M.data(y).append(\"text\").attr(\"x\", r + l).attr(\"y\", r - l).text((o) => {\n    const { label: k, value: E } = o.data;\n    return p.getShowData() ? `${k} [${E}]` : k;\n  });\n  const I = Math.max(\n    ...M.selectAll(\"text\").nodes().map((o) => o?.getBoundingClientRect().width ?? 0)\n  ), O = A + e + r + l + I;\n  m.attr(\"viewBox\", `0 0 ${O} ${d}`), et(m, d, O, i.useMaxWidth);\n}, \"draw\"), Dt = { draw: wt }, bt = {\n  parser: yt,\n  db: R,\n  renderer: Dt,\n  styles: xt\n};\nexport {\n  bt as diagram\n};\n"],
  "mappings": "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",
  "names": ["t", "h", "g", "N", "gt"]
}
