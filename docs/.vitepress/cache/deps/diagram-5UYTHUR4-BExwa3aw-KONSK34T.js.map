{
  "version": 3,
  "sources": ["../../../../node_modules/vitepress-mermaid-preview/dist/diagram-5UYTHUR4-BExwa3aw.js"],
  "sourcesContent": ["import { p as y } from \"./chunk-353BL4L5-t05ly1Yi.js\";\nimport { _ as i, s as B, g as S, q as F, p as z, a as E, b as P, D as w, H as W, e as D, y as T, E as _, F as A, l as x } from \"./component-D1GmXNq6.js\";\nimport { p as N } from \"./mermaid-parser.core-N8bHQHCN.js\";\nvar m = {\n  packet: []\n}, v = structuredClone(m), L = A.packet, Y = /* @__PURE__ */ i(() => {\n  const t = w({\n    ...L,\n    ..._().packet\n  });\n  return t.showBits && (t.paddingY += 10), t;\n}, \"getConfig\"), H = /* @__PURE__ */ i(() => v.packet, \"getPacket\"), I = /* @__PURE__ */ i((t) => {\n  t.length > 0 && v.packet.push(t);\n}, \"pushWord\"), M = /* @__PURE__ */ i(() => {\n  T(), v = structuredClone(m);\n}, \"clear\"), u = {\n  pushWord: I,\n  getPacket: H,\n  getConfig: Y,\n  clear: M,\n  setAccTitle: P,\n  getAccTitle: E,\n  setDiagramTitle: z,\n  getDiagramTitle: F,\n  getAccDescription: S,\n  setAccDescription: B\n}, O = 1e4, q = /* @__PURE__ */ i((t) => {\n  y(t, u);\n  let e = -1, o = [], s = 1;\n  const { bitsPerRow: n } = u.getConfig();\n  for (let { start: a, end: r, bits: c, label: f } of t.blocks) {\n    if (a !== void 0 && r !== void 0 && r < a)\n      throw new Error(`Packet block ${a} - ${r} is invalid. End must be greater than start.`);\n    if (a ??= e + 1, a !== e + 1)\n      throw new Error(\n        `Packet block ${a} - ${r ?? a} is not contiguous. It should start from ${e + 1}.`\n      );\n    if (c === 0)\n      throw new Error(`Packet block ${a} is invalid. Cannot have a zero bit field.`);\n    for (r ??= a + (c ?? 1) - 1, c ??= r - a + 1, e = r, x.debug(`Packet block ${a} - ${e} with label ${f}`); o.length <= n + 1 && u.getPacket().length < O; ) {\n      const [d, p] = G({ start: a, end: r, bits: c, label: f }, s, n);\n      if (o.push(d), d.end + 1 === s * n && (u.pushWord(o), o = [], s++), !p)\n        break;\n      ({ start: a, end: r, bits: c, label: f } = p);\n    }\n  }\n  u.pushWord(o);\n}, \"populate\"), G = /* @__PURE__ */ i((t, e, o) => {\n  if (t.start === void 0)\n    throw new Error(\"start should have been set during first phase\");\n  if (t.end === void 0)\n    throw new Error(\"end should have been set during first phase\");\n  if (t.start > t.end)\n    throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);\n  if (t.end + 1 <= e * o)\n    return [t, void 0];\n  const s = e * o - 1, n = e * o;\n  return [\n    {\n      start: t.start,\n      end: s,\n      label: t.label,\n      bits: s - t.start\n    },\n    {\n      start: n,\n      end: t.end,\n      label: t.label,\n      bits: t.end - n\n    }\n  ];\n}, \"getNextFittingBlock\"), K = {\n  parse: /* @__PURE__ */ i(async (t) => {\n    const e = await N(\"packet\", t);\n    x.debug(e), q(e);\n  }, \"parse\")\n}, R = /* @__PURE__ */ i((t, e, o, s) => {\n  const n = s.db, a = n.getConfig(), { rowHeight: r, paddingY: c, bitWidth: f, bitsPerRow: d } = a, p = n.getPacket(), l = n.getDiagramTitle(), k = r + c, g = k * (p.length + 1) - (l ? 0 : r), b = f * d + 2, h = W(e);\n  h.attr(\"viewbox\", `0 0 ${b} ${g}`), D(h, g, b, a.useMaxWidth);\n  for (const [C, $] of p.entries())\n    U(h, $, C, a);\n  h.append(\"text\").text(l).attr(\"x\", b / 2).attr(\"y\", g - k / 2).attr(\"dominant-baseline\", \"middle\").attr(\"text-anchor\", \"middle\").attr(\"class\", \"packetTitle\");\n}, \"draw\"), U = /* @__PURE__ */ i((t, e, o, { rowHeight: s, paddingX: n, paddingY: a, bitWidth: r, bitsPerRow: c, showBits: f }) => {\n  const d = t.append(\"g\"), p = o * (s + a) + a;\n  for (const l of e) {\n    const k = l.start % c * r + 1, g = (l.end - l.start + 1) * r - n;\n    if (d.append(\"rect\").attr(\"x\", k).attr(\"y\", p).attr(\"width\", g).attr(\"height\", s).attr(\"class\", \"packetBlock\"), d.append(\"text\").attr(\"x\", k + g / 2).attr(\"y\", p + s / 2).attr(\"class\", \"packetLabel\").attr(\"dominant-baseline\", \"middle\").attr(\"text-anchor\", \"middle\").text(l.label), !f)\n      continue;\n    const b = l.end === l.start, h = p - 2;\n    d.append(\"text\").attr(\"x\", k + (b ? g / 2 : 0)).attr(\"y\", h).attr(\"class\", \"packetByte start\").attr(\"dominant-baseline\", \"auto\").attr(\"text-anchor\", b ? \"middle\" : \"start\").text(l.start), b || d.append(\"text\").attr(\"x\", k + g).attr(\"y\", h).attr(\"class\", \"packetByte end\").attr(\"dominant-baseline\", \"auto\").attr(\"text-anchor\", \"end\").text(l.end);\n  }\n}, \"drawWord\"), X = { draw: R }, j = {\n  byteFontSize: \"10px\",\n  startByteColor: \"black\",\n  endByteColor: \"black\",\n  labelColor: \"black\",\n  labelFontSize: \"12px\",\n  titleColor: \"black\",\n  titleFontSize: \"14px\",\n  blockStrokeColor: \"black\",\n  blockStrokeWidth: \"1\",\n  blockFillColor: \"#efefef\"\n}, J = /* @__PURE__ */ i(({ packet: t } = {}) => {\n  const e = w(j, t);\n  return `\n\t.packetByte {\n\t\tfont-size: ${e.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${e.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${e.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${e.labelColor};\n\t\tfont-size: ${e.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${e.titleColor};\n\t\tfont-size: ${e.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${e.blockStrokeColor};\n\t\tstroke-width: ${e.blockStrokeWidth};\n\t\tfill: ${e.blockFillColor};\n\t}\n\t`;\n}, \"styles\"), tt = {\n  parser: K,\n  db: u,\n  renderer: X,\n  styles: J\n};\nexport {\n  tt as diagram\n};\n"],
  "mappings": "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",
  "names": ["t", "g"]
}
